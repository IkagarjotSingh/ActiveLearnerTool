window.onload = checkScreenSize

//window.onresize = checkScreenSize

function checkScreenSize(){
    if (window.innerWidth <= 1000){
        closeNav()
       
    }
    else{
        openNav()
    }
    ed_dependType();
}



function openNav() {
    document.getElementById("side-nav-bar").style.width = "14%";
    document.getElementById("desc-tab-1").style.marginLeft = "14%";
    document.getElementById("desc-tab-1").style.width = "86%";
    document.getElementById("desc-tab-2").style.marginLeft = "14%";
    document.getElementById("desc-tab-2").style.width = "86%";
    document.getElementById("desc-tab-3").style.marginLeft = "14%";
    document.getElementById("desc-tab-3").style.width = "86%";
    document.getElementById("desc-tab-4").style.marginLeft = "14%";
    document.getElementById("desc-tab-4").style.width = "86%";
}

function closeNav() {
    document.getElementById("side-nav-bar").style.width = "0";
    document.getElementById("desc-tab-1").style.width = "100%";
    document.getElementById("desc-tab-1").style.marginLeft = "0%";
    document.getElementById("desc-tab-2").style.width = "100%";
    document.getElementById("desc-tab-2").style.marginLeft = "0%";
    document.getElementById("desc-tab-3").style.width = "100%";
    document.getElementById("desc-tab-3").style.marginLeft = "0%";
    document.getElementById("desc-tab-4").style.width = "100%";
    document.getElementById("desc-tab-4").style.marginLeft = "0%";

}


function makeActive(element){
    var e = document.querySelectorAll(".dependency-graphs .list-group a");
    for (i=0;i<e.length;i++){
        e[i].classList.remove('list-group-item-dark');
    }
    element.classList.add('list-group-item-dark');
}

function makePrevActive(){
    var e = document.querySelectorAll(".dependency-graphs .list-group a");
    for (i=0;i<e.length;i++){
        if (e[i].classList.contains('active')){
            active_element = i;
            break;
        }
    }
    if (active_element == 0){
        active_element = e.length;
    }
    var eId ="slide-"+String(active_element);
    var target_element=document.getElementById(eId);
    makeActive(target_element);

}

function makeNextActive(){
    var e = document.querySelectorAll(".dependency-graphs .list-group a");
    for (i=1;i<=e.length;i++){
        if (e[i-1].classList.contains('active')){
            active_element = i;
            break;
        }
    }
    if (active_element == e.length){
        active_element = 0;
    }
    var eId ="slide-"+String(active_element+1);
    var target_element=document.getElementById(eId);
    makeActive(target_element);
}


//Generate Release Plans
$('#release_plans').on('submit',function(e){
    e.preventDefault();
    
    $.ajax({
        success:function() {
          document.getElementById('RPlans').style.display='block';
        }
      });
  })


//Generate Recommender results
$('#rcmd').on('submit',function(e){
    e.preventDefault();
    
    $.ajax({
        success:function() {
          document.getElementById('rcmd_results').style.display='block';
        }
      });
  })

function ed_dependType(){
    eVal = document.getElementById("dFlag").value;
    if (eVal == "No"){
        //alert("No")
        elements = document.getElementById("searchdrop").getElementsByTagName('*');
        for(var i = 0; i < elements.length; i++){
            elements[i].disabled = true;
       }
    }
    if (eVal == "Yes"){
        //alert("No")
        elements = document.getElementById("searchdrop").getElementsByTagName('*');
        for(var i = 0; i < elements.length; i++){
            elements[i].disabled = false;
       }
    }
}

function validateDependency(){
    var dFlag = document.forms["iAnnotator"]["dependency_Flag"].value;
    var dValue = document.forms["iAnnotator"]['dependencyType'].value;
    if (dFlag == "Yes" && dValue==""){
        alert("Please select a Dependency Type.");
        return false;
    }
}